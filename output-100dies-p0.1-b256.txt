================================ Initial Start ===============================
================ HW configs =================
+ die number: 100
+ core number in a die: 16
+ mac lane number: 16
+ mac num number: 32
+ sram2_height: 2048
================ SW configs =================
+ embedding dimension: 12288
+ head number: 96
+ head_embedding dimension: 128
+ decoder block number: 96
================ MH algorithm ===============
+ MH algorithm level mode: 0
+ MH distribution mode: 1
+ J_max: 4
+ J_min: 2
================= Data set ==================
+ batch size: 256
+ request_total_count:2062
---------- dump params -----------
cal_latency: 0.039
ppu_latency: 5
ppu_boundary: 100
weight/IA_loading_latency: 1
NoC_core_bandwidth: 68
NoP_die_bandwidth: 100
ppu_bandwidth: 120
NoC_latency_per_hop: 10
NoP_latency_per_hop: 20
NoC_h: 4
NoC_w: 4
NoP_h: 10
NoP_w: 10
is_ring_mode: False
================================ Initial End ===============================
------------------------------------
s_total_avg: 123.51617405243873
done
================================ Results ===============================
------------ dump Total stats ------------
---------- dump latencys -----------
cal: 5945131745.28
weight_loading: 14575656960
dynamic_weight_loading: 30884679936
IA_loading: 43458538176
ppu: 5782585451520
NoC: 155514516905856.0
NoP: 539470367245824
peak static memory usage: 173946175488.0
peak dynamic memory usage: 155185053696
peak IA usage: 1811939328.0
per group peak dynamic memory usage: 5669388288
per group peak static memory usage: 1739461754.88
per group peak static+dynamic memory usage: 7408850042.88
load balance: 0
---------- dump Total latency counts -----------
cal: 152439275520
ppu: 1156517090304
weight_loading: 14575656960
dynamic_weight_loading: 30884679936
IA_loading:                     43458538176
+ IA_loading_FC_operand:     358345728-0.82%
+ IA_loading_FC_partialsum:  13663095744-31.44%
+ IA_loading_residual:       0-0.0%
+ IA_loading_FC_wb:          28199404800-64.89%
+ IA_loading_IA_rotation:    229372416-0.53%
+ IA_loading_IA_rotation_wb: 223659264-0.51%
+ IA_loading_MH:             123163200-0.28%
+ IA_loading_softmax:        4658112-0.01%
+ IA_loading_LN:             122439168-0.28%
+ IA_loading_split_concat:   539354976-1.24%
NoC_transactions:                     155514516905856.0
+ NoC_FC_partialsum:         129718053642240.0-83%
+ NoC_IA_rotation:           25510081462272-16%
+ NoC_LN:                    12833551872-0%
+ NoC_split_concat:          273211293696-0%
+ NoC_softmax:               336955776-0%
NoP_transactions:                     539470367245824
+ NoP_IA_rotation:           535711710707712-99%
+ NoP_split_concat:          3682410141696-1%
+ NoP_LN:                    76246396416-0%
+ NoP_softmax:               0-0%
------------ dump FC stats ------------
---------- dump latencys -----------
cal: 5865476198.4
weight_loading: 14575656960
dynamic_weight_loading: 0
IA_loading: 42669158872
ppu: 5775443942400
NoC: 154962405089280.0
NoP: 530131380387840
peak static memory usage: 0
peak dynamic memory usage: 0
peak IA usage: 0
per group peak dynamic memory usage: 0
per group peak static memory usage: 0.0
per group peak static+dynamic memory usage: 0.0
load balance: 0
---------- dump FC latency counts -----------
cal: 150396825600
ppu: 1155088788480
weight_loading: 14575656960
dynamic_weight_loading: 0
IA_loading:                     42669158872
+ IA_loading_FC_operand:     358345728-0.84%
+ IA_loading_FC_partialsum:  13663095744-32.02%
+ IA_loading_residual:       0-0.0%
+ IA_loading_FC_wb:          28199404800-66.09%
+ IA_loading_IA_rotation:    226983120-0.53%
+ IA_loading_IA_rotation_wb: 221329480-0.52%
+ IA_loading_MH:             0-0.0%
+ IA_loading_softmax:        0-0.0%
+ IA_loading_LN:             0-0.0%
+ IA_loading_split_concat:   0-0.0%
NoC_transactions:                     154962405089280.0
+ NoC_FC_partialsum:         129718053642240.0-84%
+ NoC_IA_rotation:           25244351447040-16%
+ NoC_LN:                    0-0%
+ NoC_split_concat:          0-0%
+ NoC_softmax:               0-0%
NoP_transactions:                     530131380387840
+ NoP_IA_rotation:           530131380387840-100%
+ NoP_split_concat:          0-0%
+ NoP_LN:                    0-0%
+ NoP_softmax:               0-0%
------------ dump MH stats ------------
---------- dump latencys -----------
cal: 79655546.88
weight_loading: 0
dynamic_weight_loading: 30884679936
IA_loading: 127821312
ppu: 0
NoC: 0
NoP: 0
peak static memory usage: 0
peak dynamic memory usage: 0
peak IA usage: 0
per group peak dynamic memory usage: 0
per group peak static memory usage: 0.0
per group peak static+dynamic memory usage: 0.0
load balance: 0
---------- dump MH latency counts -----------
cal: 2042449920
ppu: 0
weight_loading: 0
dynamic_weight_loading: 30884679936
IA_loading:                     127821312
+ IA_loading_FC_operand:     0-0.0%
+ IA_loading_FC_partialsum:  0-0.0%
+ IA_loading_residual:       0-0.0%
+ IA_loading_FC_wb:          0-0.0%
+ IA_loading_IA_rotation:    0-0.0%
+ IA_loading_IA_rotation_wb: 0-0.0%
+ IA_loading_MH:             123163200-96.36%
+ IA_loading_softmax:        4658112-3.64%
+ IA_loading_LN:             0-0.0%
+ IA_loading_split_concat:   0-0.0%
NoC_transactions:                     0
+ NoC_FC_partialsum:         0
+ NoC_IA_rotation:           0
+ NoC_LN:                    0
+ NoC_split_concat:          0
+ NoC_softmax:               0
NoP_transactions:                     0
+ NoP_IA_rotation:           0
+ NoP_split_concat:          0
+ NoP_LN:                    0
+ NoP_softmax:               0
------------ dump NonLinear stats ------------
---------- dump latencys -----------
cal: 0.0
weight_loading: 0
dynamic_weight_loading: 0
IA_loading: 1109967618
ppu: 7141509120
NoC: 25796463263616
NoP: 539470367245824
peak static memory usage: 0
peak dynamic memory usage: 0
peak IA usage: 0
per group peak dynamic memory usage: 0
per group peak static memory usage: 0.0
per group peak static+dynamic memory usage: 0.0
load balance: 0
---------- dump NonLinear latency counts -----------
cal: 0
ppu: 1428301824
weight_loading: 0
dynamic_weight_loading: 0
IA_loading:                     1109967618
+ IA_loading_FC_operand:     0-0.0%
+ IA_loading_FC_partialsum:  0-0.0%
+ IA_loading_residual:       0-0.0%
+ IA_loading_FC_wb:          0-0.0%
+ IA_loading_IA_rotation:    229372416-20.66%
+ IA_loading_IA_rotation_wb: 223659264-20.15%
+ IA_loading_MH:             0-0.0%
+ IA_loading_softmax:        97026-0.01%
+ IA_loading_LN:             122439168-11.03%
+ IA_loading_split_concat:   539354976-48.59%
NoC_transactions:                     25796463263616
+ NoC_FC_partialsum:         0-0%
+ NoC_IA_rotation:           25510081462272-99%
+ NoC_LN:                    12833551872-0%
+ NoC_split_concat:          273211293696-1%
+ NoC_softmax:               336955776-0%
NoP_transactions:                     539470367245824
+ NoP_IA_rotation:           535711710707712-99%
+ NoP_split_concat:          3682410141696-1%
+ NoP_LN:                    76246396416-0%
+ NoP_softmax:               0-0%
------------ dump Layer Norm stats ------------
---------- dump latencys -----------
cal: 0.0
weight_loading: 0
dynamic_weight_loading: 0
IA_loading: 122439168
ppu: 5308073280
NoC: 12833551872
NoP: 76246396416
peak static memory usage: 0
peak dynamic memory usage: 0
peak IA usage: 0
per group peak dynamic memory usage: 0
per group peak static memory usage: 0.0
per group peak static+dynamic memory usage: 0.0
load balance: 0
---------- dump Layer Norm latency counts -----------
cal: 0
ppu: 1061614656
weight_loading: 0
dynamic_weight_loading: 0
IA_loading:                     122439168
+ IA_loading_FC_operand:     0-0.0%
+ IA_loading_FC_partialsum:  0-0.0%
+ IA_loading_residual:       0-0.0%
+ IA_loading_FC_wb:          0-0.0%
+ IA_loading_IA_rotation:    0-0.0%
+ IA_loading_IA_rotation_wb: 0-0.0%
+ IA_loading_MH:             0-0.0%
+ IA_loading_softmax:        0-0.0%
+ IA_loading_LN:             122439168-100.0%
+ IA_loading_split_concat:   0-0.0%
NoC_transactions:                     12833551872
+ NoC_FC_partialsum:         0-0%
+ NoC_IA_rotation:           0-0%
+ NoC_LN:                    12833551872-100%
+ NoC_split_concat:          0-0%
+ NoC_softmax:               0-0%
NoP_transactions:                     76246396416
+ NoP_IA_rotation:           0-0%
+ NoP_split_concat:          0-0%
+ NoP_LN:                    76246396416-100%
+ NoP_softmax:               0-0%
------------ dump Split stats ------------
---------- dump latencys -----------
cal: 0.0
weight_loading: 0
dynamic_weight_loading: 0
IA_loading: 400595136
ppu: 0
NoC: 204894480384
NoP: 2374455877632
peak static memory usage: 0
peak dynamic memory usage: 0
peak IA usage: 0
per group peak dynamic memory usage: 0
per group peak static memory usage: 0.0
per group peak static+dynamic memory usage: 0.0
load balance: 0
---------- dump Split latency counts -----------
cal: 0
ppu: 0
weight_loading: 0
dynamic_weight_loading: 0
IA_loading:                     400595136
+ IA_loading_FC_operand:     0-0.0%
+ IA_loading_FC_partialsum:  0-0.0%
+ IA_loading_residual:       0-0.0%
+ IA_loading_FC_wb:          0-0.0%
+ IA_loading_IA_rotation:    0-0.0%
+ IA_loading_IA_rotation_wb: 0-0.0%
+ IA_loading_MH:             0-0.0%
+ IA_loading_softmax:        0-0.0%
+ IA_loading_LN:             0-0.0%
+ IA_loading_split_concat:   400595136-100.0%
NoC_transactions:                     204894480384
+ NoC_FC_partialsum:         0-0%
+ NoC_IA_rotation:           0-0%
+ NoC_LN:                    0-0%
+ NoC_split_concat:          204894480384-100%
+ NoC_softmax:               0-0%
NoP_transactions:                     2374455877632
+ NoP_IA_rotation:           0-0%
+ NoP_split_concat:          2374455877632-100%
+ NoP_LN:                    0-0%
+ NoP_softmax:               0-0%
------------ dump Softmax stats ------------
---------- dump latencys -----------
cal: 0.0
weight_loading: 0
dynamic_weight_loading: 0
IA_loading: 97026
ppu: 1833435840
NoC: 336955776
NoP: 0
peak static memory usage: 0
peak dynamic memory usage: 0
peak IA usage: 0
per group peak dynamic memory usage: 0
per group peak static memory usage: 0.0
per group peak static+dynamic memory usage: 0.0
load balance: 0
---------- dump Softmax latency counts -----------
cal: 0
ppu: 366687168
weight_loading: 0
dynamic_weight_loading: 0
IA_loading:                     97026
+ IA_loading_FC_operand:     0-0.0%
+ IA_loading_FC_partialsum:  0-0.0%
+ IA_loading_residual:       0-0.0%
+ IA_loading_FC_wb:          0-0.0%
+ IA_loading_IA_rotation:    0-0.0%
+ IA_loading_IA_rotation_wb: 0-0.0%
+ IA_loading_MH:             0-0.0%
+ IA_loading_softmax:        97026-100.0%
+ IA_loading_LN:             0-0.0%
+ IA_loading_split_concat:   4955232-5107.12%
NoC_transactions:                     336955776
+ NoC_FC_partialsum:         0-0%
+ NoC_IA_rotation:           0-0%
+ NoC_LN:                    0-0%
+ NoC_split_concat:          0-0%
+ NoC_softmax:               336955776-100%
NoP_transactions:                     0
+ NoP_IA_rotation:           0
+ NoP_split_concat:          0
+ NoP_LN:                    0
+ NoP_softmax:               0
------------ dump Concat stats ------------
---------- dump latencys -----------
cal: 0.0
weight_loading: 0
dynamic_weight_loading: 0
IA_loading: 133804608
ppu: 0
NoC: 68316813312
NoP: 1307954264064
peak static memory usage: 0
peak dynamic memory usage: 0
peak IA usage: 0
per group peak dynamic memory usage: 0
per group peak static memory usage: 0.0
per group peak static+dynamic memory usage: 0.0
load balance: 0
---------- dump Concat latency counts -----------
cal: 0
ppu: 0
weight_loading: 0
dynamic_weight_loading: 0
IA_loading:                     133804608
+ IA_loading_FC_operand:     0-0.0%
+ IA_loading_FC_partialsum:  0-0.0%
+ IA_loading_residual:       0-0.0%
+ IA_loading_FC_wb:          0-0.0%
+ IA_loading_IA_rotation:    0-0.0%
+ IA_loading_IA_rotation_wb: 0-0.0%
+ IA_loading_MH:             0-0.0%
+ IA_loading_softmax:        0-0.0%
+ IA_loading_LN:             0-0.0%
+ IA_loading_split_concat:   133804608-100.0%
NoC_transactions:                     68316813312
+ NoC_FC_partialsum:         0-0%
+ NoC_IA_rotation:           0-0%
+ NoC_LN:                    0-0%
+ NoC_split_concat:          68316813312-100%
+ NoC_softmax:               0-0%
NoP_transactions:                     1307954264064
+ NoP_IA_rotation:           0-0%
+ NoP_split_concat:          1307954264064-100%
+ NoP_LN:                    0-0%
+ NoP_softmax:               0-0%
------------ dump Residual stats ------------
---------- dump latencys -----------
cal: 0.0
weight_loading: 0
dynamic_weight_loading: 0
IA_loading: 0
ppu: 0
NoC: 0
NoP: 0
peak static memory usage: 0
peak dynamic memory usage: 0
peak IA usage: 0
per group peak dynamic memory usage: 0
per group peak static memory usage: 0.0
per group peak static+dynamic memory usage: 0.0
load balance: 0
---------- dump Residual latency counts -----------
cal: 0
ppu: 0
weight_loading: 0
dynamic_weight_loading: 0
IA_loading:                     0
+ IA_loading_FC_operand:     0
+ IA_loading_FC_partialsum:  0
+ IA_loading_residual:       0
+ IA_loading_FC_wb:          0
+ IA_loading_IA_rotation:    0
+ IA_loading_IA_rotation_wb: 0
+ IA_loading_MH:             0
+ IA_loading_softmax:        0
+ IA_loading_LN:             0
+ IA_loading_split_concat:   0
NoC_transactions:                     0
+ NoC_FC_partialsum:         0
+ NoC_IA_rotation:           0
+ NoC_LN:                    0
+ NoC_split_concat:          0
+ NoC_softmax:               0
NoP_transactions:                     0
+ NoP_IA_rotation:           0
+ NoP_split_concat:          0
+ NoP_LN:                    0
+ NoP_softmax:               0
------------ dump IA Rotation stats ------------
---------- dump latencys -----------
cal: 0.0
weight_loading: 0
dynamic_weight_loading: 0
IA_loading: 4719080
ppu: 0
NoC: 265730015232
NoP: 5580330319872
peak static memory usage: 0
peak dynamic memory usage: 0
peak IA usage: 0
per group peak dynamic memory usage: 0
per group peak static memory usage: 0.0
per group peak static+dynamic memory usage: 0.0
load balance: 0
---------- dump IA Rotation latency counts -----------
cal: 0
ppu: 0
weight_loading: 0
dynamic_weight_loading: 0
IA_loading:                     4719080
+ IA_loading_FC_operand:     0-0.0%
+ IA_loading_FC_partialsum:  0-0.0%
+ IA_loading_residual:       0-0.0%
+ IA_loading_FC_wb:          0-0.0%
+ IA_loading_IA_rotation:    2389296-50.63%
+ IA_loading_IA_rotation_wb: 2329784-49.37%
+ IA_loading_MH:             0-0.0%
+ IA_loading_softmax:        0-0.0%
+ IA_loading_LN:             0-0.0%
+ IA_loading_split_concat:   0-0.0%
NoC_transactions:                     265730015232
+ NoC_FC_partialsum:         0-0%
+ NoC_IA_rotation:           265730015232-100%
+ NoC_LN:                    0-0%
+ NoC_split_concat:          0-0%
+ NoC_softmax:               0-0%
NoP_transactions:                     5580330319872
+ NoP_IA_rotation:           5580330319872-100%
+ NoP_split_concat:          0-0%
+ NoP_LN:                    0-0%
+ NoP_softmax:               0-0%
+ total latency: 94864006817.28
+ fc latency: 63110292030.4
+ mh latency: 31092156794.88
+ nonlinear latency: 1109967618.0
+ ln latency: 122439168.0
+ split latency: 400595136.0
+ softmax latency: 97026.0
+ concat latency: 133804608.0
+ residual latency: 0.0
+ IA rotation latency: 4719080.0
